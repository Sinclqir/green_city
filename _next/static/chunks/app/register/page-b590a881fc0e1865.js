(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1851:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m,dynamic:()=>d});var t=r(5155),a=r(2115),l=r(5695),o=r(6874),n=r.n(o),c=r(3384),i=r(7358);let d="force-dynamic",u=i.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function m(){let[e,s]=(0,a.useState)({email:"",password:""}),[r,o]=(0,a.useState)(""),i=(0,l.useRouter)(),d=r=>{s({...e,[r.target.name]:r.target.value})},m=async s=>{s.preventDefault(),o(""),console.log("Soumission du formulaire avec:",e);try{let s=await fetch("".concat(u,"/users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(console.log("R\xe9ponse API:",s.status,s.statusText),s.ok)console.log("Succ\xe8s - redirection"),o("Inscription r\xe9ussie ! Vous allez \xeatre redirig\xe9..."),setTimeout(()=>{i.push("/login")},1e3);else{let e=await s.json();console.log("Erreur API:",e);let r=e.detail||"Erreur lors de l'inscription";console.log("Message d'erreur \xe0 afficher:",r),o(r)}}catch(e){console.log("Erreur r\xe9seau:",e),o("Impossible de contacter le serveur.")}};return console.log("Message actuel:",r),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[(0,t.jsx)("header",{className:"w-full px-4 py-6 flex items-center sticky top-0 bg-gray-100 z-10",children:(0,t.jsxs)(n(),{href:"/",className:"flex items-center space-x-2 group",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 group-hover:text-green-500 transition-colors",children:["Green",(0,t.jsx)("span",{className:"text-green-500",children:"City"})]}),(0,t.jsx)(c.A,{className:"h-6 w-6 text-green-500 ml-1"})]})}),(0,t.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-800",children:"Cr\xe9er un compte"}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Adresse email"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",placeholder:"Email",className:"mt-1 w-full border px-4 py-2 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",value:e.email,onChange:d,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",placeholder:"Mot de passe",className:"mt-1 w-full border px-4 py-2 rounded-md shadow-sm focus:ring-green-500 focus:border-green-500",value:e.password,onChange:d,required:!0})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-300",children:"S'inscrire"})]}),r&&(0,t.jsx)("p",{className:"mt-4 text-center text-sm ".concat(r.includes("r\xe9ussi")?"text-green-600":"text-red-600"),children:r})]})})]})}},3384:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9946).A)("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},8404:(e,s,r)=>{Promise.resolve().then(r.bind(r,1851))}},e=>{var s=s=>e(e.s=s);e.O(0,[95,441,684,358],()=>s(8404)),_N_E=e.O()}]);